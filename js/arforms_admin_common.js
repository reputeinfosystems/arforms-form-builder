"use strict";function arf_load_migration_status_grid(){jQuery.fn.dataTableExt.oPagination.four_button=arflite_dataTable_pagination();let a=jQuery("#arflite_validation_nonce").val();dataTableOpt={language:{searchPlaceholder:"Search",search:""},oLanguage:{sProcessing:"",sEmptyTable:wp.i18n.__("There is no entry found","arforms-form-builder"),sZeroRecords:wp.i18n.__("There is no entry found","arforms-form-builder")},buttons:[{extend:"colvis",columns:":not(.noVis)",className:"ColVis_Button TableTools_Button ui-button ui-state-default ColVis_MasterButton",text:'<span class="arfshowhideicon"><svg width="30px" height="30px" viewBox="0 0 40 40" class="arfsvgposition"><path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" fill="#3f74e7" d="M9.489,8.85l0.023-2h6l-0.024,2H9.489z M9.489,2.85l0.023-2h6  l-0.024,2H9.489z M1.489,14.85l0.023-2h5.969l-0.023,2H1.489z M1.489,8.85l0.023-2h5.969l-0.023,2H1.489z M1.489,2.85l0.023-2h5.969  l-0.023,2H1.489z M15.512,12.85l-0.024,2H9.489l0.023-2H15.512z"></path></svg></span>Show / Hide columns<span class="arfshowhideicon_span" style="float: right;width: 15px;height: 15px;margin-top:2px;"><svg id="drop_box_icon" viewBox="0 0 30 30" style="width: 20px;height: 20px;margin: 6px;"><g id="drop_icon"><path fill="black" d="M6.777,6.845c-0.189,0-0.379-0.072-0.523-0.215L1.706,2.107c-0.289-0.288-0.289-0.754,0-1.042c0.29-0.288,0.759-0.288,1.048,0l4.023,4.001L10.8,1.066c0.289-0.287,0.758-0.287,1.047,0c0.289,0.288,0.289,0.754,0,1.042L7.3,6.629C7.156,6.773,6.966,6.845,6.777,6.845z"></path></g></svg></span></span>'}],bProcessing:!0,bServerSide:!0,sAjaxSource:ajaxurl,sServerMethod:"POST",fnServerParams:function(e){e.push({name:"action",value:"arforms_retrieve_schdular_status"}),e.push({name:"_wpnonce_arflite",value:a})},fnPreDrawCallback:function(){jQuery("#arf_full_width_loader").show()},fnDrawCallback:function(e){jQuery("#arf_full_width_loader").hide(),void 0!==e.json.wp_scheduler_status&&0==e.json.wp_scheduler_status&&arflite_run_schedular_manually()},oColVis:{aiExclude:[0,"",4]},bRetrieve:!1,sDom:'<"H"lCfrB>t<"footer"ip>',footer:!1,sPaginationType:"four_button",ordering:!0,bJQueryUI:!0,bPaginate:!1,bAutoWidth:!1,bDestroy:!1,bReDraw:!0,bInfo:!1,order:[[1,"desc"]],aoColumnDefs:[{sClass:"arf_schedular_hook",aTargets:[0]},{sClass:"arf_schedular_status",aTargets:[1]},{sClass:"arf_schedular_date",aTargets:[2]},{sClass:"arf_schedular_created_date",aTargets:[3]}]};jQuery(".arf_migratio_status_list_table").dataTable(dataTableOpt)}function arflite_run_schedular_manually(){var e=jQuery("#arflite_validation_nonce").val();jQuery.ajax({url:ajaxurl,method:"POST",data:{action:"arf_manually_execute_schedular&_arforms_nonce"+e},dataType:"json",success:function(e){0==e.is_stop&&arflite_run_schedular_manually()}})}function arflite_dataTable_pagination(){return{fnInit:function(a,e,t){var r=document.createElement("span"),n=document.createElement("span"),i=document.createElement("input"),s=document.createElement("span"),o=((_=document.createElement("span")).className="paginate_of",i.className="current_page_no",s.className="paginate_page",i.type="text",i.style.width="40px",i.style.height="26px",i.style.display="inline",e.appendChild(s),jQuery(i).keyup(function(e){if(38==e.which||39==e.which?this.value++:(37==e.which||40==e.which)&&1<this.value&&this.value--,""!=this.value&&!this.value.match(/[^0-9]/)){e=a._iDisplayLength*(this.value-1);if(e>a.fnRecordsDisplay())return a._iDisplayStart=(Math.ceil((a.fnRecordsDisplay()-1)/a._iDisplayLength)-1)*a._iDisplayLength,void t(a);a._iDisplayStart=e,t(a)}}),document.createElement("span")),l=document.createElement("span"),r=document.createElement("span"),n=document.createElement("span"),s=document.createElement("span"),_=document.createElement("span");o.style.backgroundRepeat="no-repeat",o.style.backgroundPosition="center",o.title=__ARFLITE_NEXT_TEXT,l.style.backgroundRepeat="no-repeat",l.style.backgroundPosition="center",l.title=__ARFLITE_LAST_TEXT,r.style.backgroundRepeat="no-repeat",r.style.backgroundPosition="center",r.title=__ARFLITE_FIRST_TEXT,n.style.backgroundRepeat="no-repeat",n.style.backgroundPosition="center",n.title=__ARFLITE_PREVIOUS_TEXT,r.appendChild(document.createTextNode(" ")),n.appendChild(document.createTextNode(" ")),l.appendChild(document.createTextNode(" ")),o.appendChild(document.createTextNode(" ")),_.className="paginate_button nof",e.appendChild(r),e.appendChild(n),e.appendChild(i),e.appendChild(_),e.appendChild(o),e.appendChild(l),jQuery(r).click(function(){if(jQuery(this).hasClass("paginate_disabled_first"))return!1;a.oApi._fnPageChange(a,"first"),t(a)}),jQuery(n).click(function(){if(jQuery(this).hasClass("paginate_disabled_previous"))return!1;a.oApi._fnPageChange(a,"previous"),t(a)}),jQuery(o).click(function(){if(jQuery(this).hasClass("paginate_disabled_next"))return!1;a.oApi._fnPageChange(a,"next"),t(a)}),jQuery(l).click(function(){if(jQuery(this).hasClass("paginate_disabled_last"))return!1;a.oApi._fnPageChange(a,"last"),t(a)}),jQuery(r).bind("selectstart",function(){return!1}),jQuery(n).bind("selectstart",function(){return!1}),jQuery("span",e).bind("mousedown",function(){return!1}),jQuery("span",e).bind("selectstart",function(){return!1}),jQuery(o).bind("selectstart",function(){return!1}),jQuery(l).bind("selectstart",function(){return!1})},fnUpdate:function(e,a){if(e.aanFeatures.p)for(var t=0,r=(l=e.aanFeatures.p).length;t<r;t++){var n=l[t].getElementsByTagName("span");if(0===e._iDisplayStart?(n[1].className="paginate_disabled_first arfhelptip",n[2].className="paginate_disabled_previous arfhelptip"):(n[1].className="paginate_enabled_first arfhelptip",n[2].className="paginate_enabled_previous arfhelptip"),e.fnDisplayEnd()==e.fnRecordsDisplay()?(n[4].className="paginate_disabled_next arfhelptip",n[5].className="paginate_disabled_last arfhelptip"):(n[4].className="paginate_enabled_next arfhelptip",n[5].className="paginate_enabled_last arfhelptip"),!e.aanFeatures.p)return;var i,s=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),o=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1;0==s&&1==o&&(s+=1),i=document.getElementById("of_grid")?document.getElementById("of_grid").value:"of";for(var l,t=0,r=(l=e.aanFeatures.p).length;t<r;t++){var _=l[t].getElementsByTagName("span"),d=l[t].getElementsByTagName("input");_[_.length-3].innerHTML=" "+i+" "+s,d[0].value=o}}}}}function arf_help_doc_fun(e){"ARForms-settings"==e&&("autoresponder_settings"==(a=document.getElementById("arfcurrenttab").value)&&(e="arf_options_email_marketing"),"logs_settings"==a&&(e="ARForms-log")),jQuery(".arf_help_icon").hide(),jQuery(".arf_sidebar_drawer_main_wrapper").addClass("active"),jQuery(".arf_sidebar_drawer_body").find(".arf_sidebar_content_body").html(""),jQuery(".arf_sidebar_drawer_content").find(".arf_readmore_link").hide(),setTimeout(function(){jQuery(".arf_sidebar_drawer_main_wrapper").find(".arf_sidebar_drawer_content").addClass("arf-slide-in")},300);var a=jQuery("#arflite_wp_nonce").val();jQuery.ajax({beforeSend:function(){jQuery("#arfviewformloader").show()},url:ajaxurl,type:"POST",data:"action=arforms_get_help_data&_wpnonce_arflite="+a+"&arf_help_page="+e,success:function(e){jQuery("#arfviewformloader").hide(),""!=e&&(e=arforms_parse_json(e),jQuery(".arf_sidebar_drawer_content").find(".arf_sidebar_content_heading").html(e.data.title),jQuery(".arf_sidebar_drawer_content").find(".arf_readmore_link").attr("href",e.data.url),jQuery(".arf_sidebar_drawer_content").find(".arf_sidebar_content_body").html(decodeURIComponent(e.data.content)),jQuery(".arf_sidebar_drawer_content").find(".arf_readmore_link").show(),jQuery(".arf_sidebar_drawer_main_wrapper").addClass("active"),jQuery(".arf_sidebar_drawer_inner_wrapper").show(),jQuery(".arf_help_icon").hide())}})}function Show_HelpIcon(){jQuery(".arf_help_icon").addClass("arf-slide-animate"),jQuery(".arf_main_help_icon").hide(),jQuery(".arf_help_icon").show(),jQuery(document).on("click",".arf-close-svg",function(){jQuery(".arf_help_icon").removeClass("arf-slide-animate"),jQuery(".arf_main_help_icon").show(),jQuery(".arf_help_icon").hide()})}function arflitechangedeletemodalwidth(e,a){var t;null!=a&&"undefined"!=a&&(t="",t=(t=(t=(t=(t+='<div class="delete_popup arfactive delete_field_message_'+(a="string"!=typeof a?String(a):a)+'" id="delete_field_message">')+'<input type="hidden" value="'+a+'" id="delete_id"/><div class="delete_column_arrow"></div>')+'<div class="delete_title"><div class="delete_confirm_message">'+__ARF_DEL_FIELD_MSG+'</div><div class="delete_popup_footer">')+'<button type="button" class="rounded_button add_button arf_delete_modal_left arfdelete_color_red" onclick="arflitefielddelete('+a+');">'+__ARF_DELETE_TEXT+"</button>&nbsp;&nbsp;")+'<button type="button" class="rounded_button delete_button arfdelete_color_gray" onclick="arflite_delete_close_popup(\''+e+"',"+a+');">'+__ARF_CANCEL_TEXT+"</button></div></div></div>",e="#arfmainfieldid_"+a+" .arf_field_action_iconbox",0<jQuery("#arfmainfieldid_"+a).find(".delete_field_message_"+a).length&&jQuery("#arfmainfieldid_"+a).find(".delete_field_message_"+a).remove(),jQuery(t).insertAfter(e),jQuery(".delete_field_message_"+a).show())}function show_form_settimgs(e,a,t){document.getElementById(e).style.display="block",document.getElementById(a).style.display="none",document.getElementById(t).style.display="none","general_settings"==(document.getElementById("arfcurrenttab").value=e)&&jQuery(".general_submit_button").css("margin-left","22%"),"autoresponder_settings"==e&&jQuery(".general_submit_button").css("margin-left","20%"),"logs_settings"==e&&jQuery(".general_submit_button").css("margin-left","22%"),jQuery("#"+e+"_img").attr("src","<?php echo ARFIMAGESURL; ?>/"+e+".png"),jQuery("."+e).addClass("btn_sld").removeClass("tab-unselected"),jQuery("."+a).removeClass("btn_sld").addClass("tab-unselected"),jQuery("#"+a+"_img").attr("src","<?php echo ARFIMAGESURL; ?>/"+a+"_hover.png"),jQuery("."+t).removeClass("btn_sld").addClass("tab-unselected"),jQuery("#"+t+"_img").attr("src","<?php echo ARFIMAGESURL; ?>/"+t+"_hover.png")}function arflite_change_load_js_css_wrapper(e){jQuery(e).is(":checked")?jQuery(".arf_global_js_css_wrapper_show").css("display","table-row"):jQuery(".arf_global_js_css_wrapper_show").hide()}function arflite_change_form_submission_type(e){"1"==jQuery(e).val()?jQuery(".arf_success_message_show_time_wrapper").show():jQuery(".arf_success_message_show_time_wrapper").hide()}function arforms_success_msg(){jQuery("#success_message").delay(100).animate({width:"toggle"},"slow"),setTimeout(function(){jQuery("#success_message").animate({width:"toggle"},"slow")},4e3)}function arforms_error_msg(){jQuery("#error_message").delay(100).animate({width:"toggle"},"slow"),setTimeout(function(){jQuery("#error_message").animate({width:"toggle"},"slow")},4e3)}function arforms_parse_json(a){var t;if(""==a||void 0===a)return null;try{t=JSON.parse(a)}catch(e){t=JSON.parse(a)}return t}function arforms_object(e){var a,t={},r={},n=new Array;for(a in e)if(-1!=a.search(/(.*?)\[(.*?)\]/)){a.replace(/(.*?)\[(.*?)\]/,"$2");var i,s=a.replace(/(.*?)\[(.*?)\]/,"$1");for(i in e[a],e[a]){var o=i.replace(/(.*?)\[(.*?)\]/,"$1"),l=i.replace(/(.*?)\[(.*?)\]/,"$2");e[s][o]={}}for(i in e[a]){var l=i.replace(/(.*?)\[(.*?)\]/,"$2"),_=i.replace(/(.*?)\[(.*?)\]/,"$1");-1==n.indexOf(_)&&(r={}),n.push(_),r[l]=e[a][i],e[s][o]=r}delete e[a][i],delete e[a]}else t[a]=e[a];return e}function arforms_remove_variables_from_url(e,a){var e=String(e),t=new RegExp("\\?"+a+"=[^&]*&?","gi"),e=e.replace(t,"?"),t=new RegExp("\\&"+a+"=[^&]*&?","gi");return e=e.replace(t,"&"),e=e.replace(/(\?|&)$/,"")}function arflite_success_msg(){jQuery("#success_message").delay(100).animate({width:"toggle"},"slow"),setTimeout(function(){jQuery("#success_message").animate({width:"toggle"},"slow")},4e3)}function arflite_error_msg(){jQuery("#error_message").delay(100).animate({width:"toggle"},"slow"),setTimeout(function(){jQuery("#error_message").animate({width:"toggle"},"slow")},4e3)}function hasClass(e,a){return null!=e&&(e.classList?e.classList.contains(a):!!e.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)")))}function getCookie(e){for(var a=e+"=",t=decodeURIComponent(document.cookie).split(";"),r=0;r<t.length;r++){for(var n=t[r];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(a))return n.substring(a.length,n.length)}return""}function arf_open_respective_style_option(e,a=""){let t=".arf_accordion_tab_input_settings";var r=wp.hooks.applyFilters("arforms_outer_section_condition_data_flag",a,e),r=("arf_form_heading"!=e&&1!=r||(t=".arf_accordion_tab_form_settings"),wp.hooks.applyFilters("arforms_outer_condition_data_flag",a,e));("arf_label"==e||"checkbox"==a&&""==e||"radio"==a&&""==e||"date"==a&&""==e||"time"==a&&""==e||1==r)&&(t=".arf_accordion_tab_input_settings"),"arf_frm_submit_btn"==e&&(t=".arf_accordion_tab_submit_settings"),0==jQuery(t).parents("dl").hasClass("active")&&(jQuery(".arf_form_style_tab_container.active").find(".arf_accordion_container.active").css("height",0),jQuery(".arf_accordion_container").removeClass("active"),jQuery(".arf_accordion_container").parents("dl").removeClass("active"),r=jQuery(t).find("dd a").attr("data-target"),jQuery(t).parents("dl").addClass("active"),jQuery(".arf_form_accordion_tabs dl."+r+" .arf_accordion_container").addClass("active"),jQuery("#arf_styling_height").val(),r=jQuery("#arf_styling_content_height").val(),r-=50,jQuery(".arf_form_style_tab_container.active").find(".arf_accordion_container.active").css("height",r+"px")),"arf_label"==e&&""==a&&jQuery(t+" .active").animate({scrollTop:jQuery("#arf_label_section").position().top-jQuery(".arf_accordion_tab_input_settings").offset().top+jQuery(".arf_accordion_tab_input_settings").scrollTop()},"slow"),""!=a&&("checkbox"==a&&""==e||"radio"==a&&""==e?jQuery(t+" .active").animate({scrollTop:jQuery("#arf_checkbox_radio_settings").position().top-jQuery(".arf_accordion_tab_input_settings").position().top+jQuery(".arf_accordion_container.active").scrollTop()},"slow"):"date"==a&&""==e?jQuery(".arf_accordion_container.active").animate({scrollTop:jQuery("#arf_date_time_section").position().top-jQuery(".arf_accordion_tab_input_settings").position().top+jQuery(".arf_accordion_container.active").scrollTop()}):(jQuery(".arf_accordion_container.active").animate({scrollTop:jQuery("#arf_label_section").position().top-jQuery(".arf_accordion_tab_input_settings").offset().top+jQuery(".arf_accordion_tab_input_settings").scrollTop()},"slow"),wp.hooks.doAction("arf_outer_condition",a,e)))}function open_entry_thickbox(e,a){jQuery(".arf_modal_overlay").removeClass("arfactive"),jQuery(".arf_view_entry_modal").parents(".arf_modal_overlay").addClass("arfactive"),jQuery(".arf_view_entry_modal").addClass("arfactive"),jQuery(".arf_view_entry_modal").find("#arf_view_entry_modal_form_title").html("("+a+")");a=jQuery("#view_entry_detail_container_"+e).html();jQuery("html").css("overflow","hidden"),jQuery(".arf_popup_container.arf_view_entry_modal").find(".arfentry_modal_content").html(a),jQuery(".arf_view_entry_modal").removeClass("arf_entry_model_larger"),jQuery(".arf_view_entry_modal").addClass("arf_popup_container_view_entry_modal"),jQuery(window).height()-50<jQuery(".arf_view_entry_modal.arfactive").height()&&jQuery(".arf_view_entry_modal").addClass("arf_entry_model_larger"),jQuery.isFunction(jQuery().editable)&&arf_edit_entries_in_viewmodel(e),jQuery(".arf_view_entry_modal.arfactive").parent().hasClass("arf_entry_popup_container_wrapper")||jQuery(".arf_view_entry_modal.arfactive").wrap('<div class="arf_entry_popup_container_wrapper" />')}function changelistaction(e){var a,t,r,n;""!=e&&(a=jQuery("#arf_bulk_action_two").val(e),t=jQuery("#arf_bulk_action_one").val(e),a!=e&&(jQuery("#arf_bulk_action_two").val(e),(r=jQuery(' dl[data-name="action3"')).find('dd ul li[data-value="'+e+'"]'),n=r.find('dd ul li[data-value="'+e+'"]').attr("data-label"),r.find("dt span").text(n)),t!=e&&(jQuery("#arf_bulk_action_one").val(e),(r=jQuery(' dl[data-name="action1"')).find('dd ul li[data-value="'+e+'"]'),n=r.find('dd ul li[data-value="'+e+'"]').attr("data-label"),r.find("dt span").text(n)))}function changelistentriesaction(e){var a,t;""!=e&&(jQuery("#arf_bulk_action_one").val(e)!=e&&(jQuery("#arf_bulk_action_one").val(e),(a=jQuery(' dl[data-name="action1"')).find('dd ul li[data-value="'+e+'"]'),t=a.find('dd ul li[data-value="'+e+'"]').attr("data-label"),a.find("dt span").text(t)),jQuery("#arf_inc_bulk_action_one").val(e)!=e&&(jQuery("#arf_bulk_action_two").val(e),(a=jQuery(' dl[data-name="action3"')).find('dd ul li[data-value="'+e+'"]'),t=a.find('dd ul li[data-value="'+e+'"]').attr("data-label"),a.find("dt span").text(t)))}function changesidewideaction(e){var a,t,r,n;""!=e&&(a=jQuery("#arf_bulk_action_two").val(e),t=jQuery("#arf_bulk_action_one").val(e),a!=e&&(jQuery("#arf_bulk_action_two").val(e),(r=jQuery(' dl[data-name="action3"')).find('dd ul li[data-value="'+e+'"]'),n=r.find('dd ul li[data-value="'+e+'"]').attr("data-label"),r.find("dt span").text(n)),t!=e&&(jQuery("#arf_bulk_action_one").val(e),(r=jQuery(' dl[data-name="action1"')).find('dd ul li[data-value="'+e+'"]'),n=r.find('dd ul li[data-value="'+e+'"]').attr("data-label"),r.find("dt span").text(n)))}document.addEventListener("readystatechange",e=>{"complete"===document.readyState&&0<jQuery("#arf_form_migration_status_entries").length&&arf_load_migration_status_grid()});var dataTableOpt={};jQuery(document).on("click",".arf_sidebar_drawer_close_btn",function(e){var a=jQuery(this);jQuery(a).parents(".arf_sidebar_drawer_content").removeClass("arf-slide-in"),setTimeout(function(){jQuery(a).parents(".arf_sidebar_drawer_main_wrapper").removeClass("active"),jQuery(".arf_main_help_icon").show()},500)}),jQuery(document).on("click",".arf_sidebar_drawer_main_wrapper",function(e){jQuery(e.target).hasClass("arf_sidebar_drawer_content")||0<jQuery(e.target).parents(".arf_sidebar_drawer_content").length||(jQuery(".arf_sidebar_drawer_content").removeClass("arf-slide-in"),setTimeout(function(){jQuery(".arf_sidebar_drawer_main_wrapper").removeClass("active"),jQuery(".arf_main_help_icon").show()},500))}),jQuery.fn.FilterFormData=function(){for(var e=jQuery(this).serializeArray(),a=0;a<e.length;++a){var t=e[a].name.search("description"),r=e[a].name.search("placeholdertext"),n=e[a].name.search("max"),i=e[a].name.search("frm_clear_field"),s=e[a].name.search("frm_default_blank"),o=e[a].name.search("rule_value"),l=e[a].name.search("field_width"),_=e[a].name.search("required_indicator"),d=e[a].name.search("item_meta"),c=e[a].name.search("form_name"),u=e[a].name.search("form_desc");(0<=d||0<=c||0<=u)&&""==e[a].value&&delete e[a],(0<_||0<r)&&delete e[a],(0<t||0<n||0<i||0<s||0<o||0<l)&&""==e[a].value&&delete e[a]}var f={},p=e,m=0;for(g in p){var h=p[g].name,y=p[g].value;-1!=h.search(/(.*?)\[(.*?)\]/)&&(b=h.replace(/(.*?)\[(.*?)\]/,"$2"),-1!=(j=h.replace(/(.*?)\[(.*?)\]/,"$1")).search(/(.*?)\[(.*?)\]/)?f[j=j.replace(/(.*?)\[(.*?)\]/,"$1")]={}:f[j]={},""==(b=-1!=b.search(/(.*?)\[(.*?)\]/)?b.replace(/(.*?)\[(.*?)\]/,"$1"):b)?(f[j][m]={},m++):f[j][b]={})}var g,m=0,v=0;for(g in p){var b,j,h=p[g].name,y=p[g].value;-1!=h.search(/(.*?)\[(.*?)\]/)?(b=h.replace(/(.*?)\[(.*?)\]/,"$2"),null==f[j=-1!=(j=h.replace(/(.*?)\[(.*?)\]/,"$1")).search(/(.*?)\[(.*?)\]/)?j.replace(/(.*?)\[(.*?)\]/,"$1"):j]&&(f[j]={}),""==b?(f[j][m]=y,m++):-1!=b.search(/(.*?)\[(.*?)\]/)?(b=b.replace(/(.*?)\[(.*?)\]/,"$1"),null==f[j][b]&&(f[j][b]={},v=0),f[j][b][v]=y,v++):f[j][b]=y):f[h]=y}return arforms_object(f)},jQuery(document).on("click",".arforms_builtin_module_btn",function(){var e=jQuery("#arflite_wp_nonce").val(),a=jQuery(this).attr("data-module"),t=jQuery(this).attr("data-status"),r=jQuery(this).parents(".addon_container.default_module");r.find(".arf_circular").show();jQuery(this).addClass("addon_processing");var n=r.find(".addon_processing_div");r.find(".get_it_a").text(""),jQuery.ajax({url:ajaxurl,method:"POST",data:{action:"arforms_module_action",status:t,module:a,_wpnonce_arflite:e},dataType:"json",success:function(e){if("error"==e.variant)return jQuery("#records_error_message_des").html(e.msg),error_msg(),!1;e=e.module_status;jQuery.each(e,function(e,a){1==a?(n.show(),setTimeout(function(){n.hide(),jQuery(`.arforms_builtin_module_btn[data-module="${e}"]`).find(".addon_processing_div").removeClass("addon_processing_tick"),jQuery(`.arforms_builtin_module_btn[data-module="${e}"]`).find(".addon_processing_div").addClass("addon_processing_tick_deactivation"),jQuery(`.arforms_builtin_module_btn[data-module="${e}"]`).find(".addon_processing_div").text("Deactivated"),jQuery(`.arforms_builtin_module_btn[data-module="${e}"]`).attr("data-status",a),jQuery(`.arforms_builtin_module_btn[data-module="${e}"]`).removeClass("addon_processing"),jQuery(`.arforms_builtin_module_btn[data-module="${e}"]`).find(".arf_circular").hide(),jQuery(`.arforms_builtin_module_btn[data-module="${e}"]`).find(".get_it_a").text("Deactivate")},3e3)):(n.show(),setTimeout(function(){n.hide(),jQuery(`.arforms_builtin_module_btn[data-module="${e}"]`).removeClass("addon_processing"),jQuery(`.arforms_builtin_module_btn[data-module="${e}"]`).find(".addon_processing_div").removeClass("addon_processing_tick_deactivation"),jQuery(`.arforms_builtin_module_btn[data-module="${e}"]`).find(".addon_processing_div").addClass("addon_processing_tick"),jQuery(`.arforms_builtin_module_btn[data-module="${e}"]`).find(".addon_processing_div").text("Activated"),jQuery(`.arforms_builtin_module_btn[data-module="${e}"]`).attr("data-status",a),jQuery(`.arforms_builtin_module_btn[data-module="${e}"]`).find(".arf_circular").hide(),jQuery(`.arforms_builtin_module_btn[data-module="${e}"]`).find(".get_it_a").text("Activate")},3e3))})}})}),jQuery(document).ready(function(i){i(document).on("blur","textarea.html_field_description",function(){const e=i(this);var a=e.val();const t=e.next(".arf_invalid_html_content_message");t.length&&((a=a)&&a.trim()&&(a.match(/<([a-zA-Z0-9]+)(?![^>]*\/>)[^>]*>/g)||[]).length!==(a.match(/<\/[a-zA-Z0-9]+>/g)||[]).length?(e.attr("data-invalid-html","true"),t.stop(!0,!0).slideDown()):(e.removeAttr("data-invalid-html"),t.stop(!0,!0).slideUp()))}),i(document).on("click",".arf_fix_ok",function(){const e=i(this),r=e.closest(".arf_invalid_html_content_message"),n=r.prev("textarea.html_field_description");if(n.length){var a=`<div class="arf_content_to_fix">${n.val().trim()}</div>`;const t=e.html();e.prop("disabled",!0).html('<i class="fas fa-spinner fa-spin"></i>'),i.ajax({url:ajaxurl,method:"POST",dataType:"json",data:{action:"arf_fix_broken_html",arfContent:a},success(e){let a;if(e.success&&e.data&&e.data.data){const t=i("<div>").html(e.data.data);(a=t.find(".arf_content_to_fix").html()||e.data.data).startsWith('<div class="arf_content_to_fix">')&&a.endsWith("</div>")&&(a=a.replace(/^<div class="arf_content_to_fix">|<\/div>$/g,"")),n.val(a).trigger("keyup").removeAttr("data-invalid-html"),r.stop(!0,!0).slideUp()}else console.error("Fix failed:",e)},error(e,a,t){let r="AJAX request failed: "+a;t&&(r+=" - "+t),e.responseText&&"0"!==e.responseText&&e.responseText.length<300&&(r+=`
Response: `+e.responseText),alert(r),console.error("AJAX error:",a,t,e.responseText)},complete(){e.prop("disabled",!1).html(t)}})}}),i(document).on("click",".arf_fix_cancel",function(){const e=i(this).closest(".arf_invalid_html_content_message"),a=e.prev("textarea.html_field_description");a.length&&a.removeAttr("data-invalid-html"),e.stop(!0,!0).slideUp()}),i("textarea.html_field_description").each(function(){i(this).trigger("blur")})});